<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Emotion Analyzer - Gemini API</title>
    <style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">

        /* Modern Sports Broadcast Style - "Emotion Scoreboard" Theme */
        :root {
    --color-dark-bg: #FFF7F2;      /* ì „ì²´ ë°°ê²½ â€“ ë°ì€ í¬ë¦¼ìƒ‰ */
    --color-card-bg: #FFFFFF;      /* ì¹´ë“œ â€“ ìˆœë°±ìƒ‰ */
    --color-accent-blue: #FF8BA7;  /* í¬ì¸íŠ¸ â€“ ë§ë‘í•œ í•‘í¬ */
    --color-text-light: #333333;   /* ê¸°ë³¸ ê¸€ì â€“ ì§„í•œ íšŒìƒ‰ */
    --color-text-secondary: #888888;
    --color-success: #7BC89A;      /* ë¯¸ì…˜ ê°•ì¡° â€“ ì—°í•œ ê·¸ë¦° */
    --color-error: #FF6978;        /* ê²½ê³  â€“ ì‚´êµ¬í•‘í¬ */
    --color-soft-yellow: #FFE8A3;   /* ë²„íŠ¼ìš© ì—°ë…¸ë‘ */
    --color-soft-yellow-hover: #FFD66B;
    --font-main: "Pretendard", "Roboto", system-ui, -apple-system, "Segoe UI", sans-serif;
}


        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
        /* Spoqa Han Sans Neo (Korean Font) is recommended but not included in standard CSS */

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
           * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: var(--font-main);
}

        }
    body {
    background-color: var(--color-dark-bg);
    color: var(--color-text-light);
    min-height: 100vh;
    display: flex;
    justify-content: center;   /* âœ… ê°€ë¡œ ê°€ìš´ë° */
    align-items: flex-start;   /* âœ… ìœ„ì—ì„œë¶€í„° */
    padding: 40px 16px;        /* âœ… ëª¨ë°”ì¼/PC ì—¬ë°± */
}


       .container{
  width: 100%;
  max-width: 920px;
  padding: 28px;
  background: rgba(255,255,255,0.55);
  border: 1px solid rgba(255,139,167,0.35);
  box-shadow: 0 18px 50px rgba(0,0,0,0.10);
  border-radius: 18px;
  backdrop-filter: blur(6px);
}

        h1{
  text-align: center;
  color: var(--color-accent-blue);
  font-size: 2.1em;
  font-weight: 800;
  letter-spacing: -0.02em;
  margin-bottom: 22px;
  padding-bottom: 10px;
  border-bottom: 2px solid rgba(255,139,167,0.65);
}



        /* --- Section Styling --- */
       section{
  background-color: var(--color-card-bg);
  padding: 18px 20px;
  margin-bottom: 18px;
  border-radius: 16px;
  box-shadow: 0 10px 24px rgba(0,0,0,0.06);
  border: 1px solid rgba(0,0,0,0.05);
}


       h2{
  color: #222;
  margin-bottom: 14px;
  font-size: 1.35em;
  font-weight: 700;
  border-bottom: 1px dashed rgba(0,0,0,0.15);
  padding-bottom: 8px;
}

        /* --- Input Area --- */
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--color-text-secondary);
        }

       textarea {
    width: 100%;
    padding: 15px;
    margin-bottom: 20px;
    border: 1px solid var(--color-accent-blue);
    border-radius: 10px;
    background-color: #FFFFFF;      /* âœ… ë°ê²Œ */
    color: #222222;                 /* âœ… ê¸€ì”¨ ì§„í•˜ê²Œ */
    resize: vertical;
    min-height: 150px;
    font-size: 1em;
    transition: border-color 0.3s, box-shadow 0.3s;
}

            resize: vertical;
            min-height: 150px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: var(--color-success);
            box-shadow: 0 0 8px rgba(77, 255, 185, 0.5);
        }

        .emotion-selection {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .emotion-btn{
  background: #fff;
  border: 1px solid rgba(0,0,0,0.12);
  color: #222;
  padding: 10px 14px;
  font-size: 1.05em;
  border-radius: 999px;
  display: flex;
  gap: 8px;
  align-items: center;
}

.emotion-btn:hover{
  border-color: rgba(255,139,167,0.7);
  transform: translateY(-1px);
}

.emotion-btn.selected{
  border-color: var(--color-accent-blue);
  background: rgba(255,139,167,0.12);
  box-shadow: 0 8px 18px rgba(255,139,167,0.22);
  transform: translateY(-1px);
}

        
        /* --- Button Styling --- */
        .control-buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            padding: 10px;
            background-color: var(--color-card-bg);
            border-top: 2px solid var(--color-accent-blue);
            margin-top: 20px;
            border-radius: 0 0 12px 12px;
        }

       button{
  padding: 12px 18px;
  font-size: 1.05em;
  font-weight: 700;
  border: none;
  border-radius: 14px;
  cursor: pointer;
  transition: transform 0.15s, box-shadow 0.2s, background-color 0.2s;
  letter-spacing: -0.01em;
  text-transform: none; /* ëŒ€ë¬¸ì ì œê±° */
}

.btn-start{
  background-color: var(--color-accent-blue);
  color: #fff;
  box-shadow: 0 12px 24px rgba(255,139,167,0.28);
}

.btn-start:hover{
  transform: translateY(-2px);
}

.btn-reset, .btn-history{
  background-color: var(--color-soft-yellow, #FFE8A3);
  color: #5a4a00;
  box-shadow: 0 10px 22px rgba(255,214,107,0.25);
}

.btn-reset:hover, .btn-history:hover{
  background-color: var(--color-soft-yellow-hover, #FFD66B);
  transform: translateY(-2px);
}



        /* --- Result/Analysis Area --- */
        #result-area {
            min-height: 250px;
            padding: 20px;
            display: none; /* Initial state */
            flex-direction: column;
            gap: 20px;
        }

        .analysis-box {
    background-color: #FFFFFF;      /* âœ… ë°ê²Œ */
    padding: 15px;
    border-radius: 12px;
    border: 1px solid #EDEDED;
}

        .analysis-box h3 {
            font-size: 1.2em;
            color: var(--color-accent-blue);
            margin-bottom: 8px;
            font-family: var(--font-family-score);
            text-transform: uppercase;
        }

        .summary-display {
            font-size: 1.3em;
            font-weight: bold;
            color: var(--color-success);
        }

        .emotion-tag {
            display: inline-block;
            padding: 5px 10px;
            background-color: var(--color-accent-blue);
            color: var(--color-dark-bg);
            border-radius: 3px;
            font-weight: bold;
            margin-right: 10px;
        }

        /* --- Mission Card UI --- */
        #mission-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .mission-item {
            background-color: var(--color-card-bg);
            padding: 15px;
            border-radius: 5px;
            border-left: 5px solid var(--color-success);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            transition: transform 0.2s;
        }

        .mission-item:hover {
            transform: translateX(5px);
        }

        /* --- History View --- */
        #history-view {
            display: none; /* Initial state */
            flex-direction: column;
            gap: 15px;
        }

        .history-entry {
    background-color: #FFFFFF;      /* âœ… ë°ê²Œ */
    padding: 15px;
    border-radius: 12px;
    border-left: 3px solid var(--color-accent-blue);
    border: 1px solid #EFEFEF;
}

        .history-entry strong {
            display: block;
            margin-bottom: 5px;
            color: var(--color-accent-blue);
        }
        
        /* Loading Indicator */
        .loading-spinner {
            border: 4px solid var(--color-card-bg);
            border-top: 4px solid var(--color-accent-blue);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            display: none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

    </style>
</head>
<body>

    <div class="container">
        <h1>Gemini Daily Emotion Scoreboard</h1>
        
        <div id="status-result-area">
            
            <section id="input-section">
                <h2>ğŸ“ Today's Report</h2>
                <form id="daily-report-form">
                    <label for="daily-log">ì˜¤ëŠ˜ ìˆì—ˆë˜ ì¼ (Today's Log)</label>
                    <textarea id="daily-log" placeholder="ì˜¤ëŠ˜ í•˜ë£¨ ìˆì—ˆë˜ ì¼, ëŠë‚€ ê°ì • ë“±ì„ ììœ ë¡­ê²Œ ì ì–´ì£¼ì„¸ìš”." required></textarea>

                    <label>ì˜¤ëŠ˜ ê¸°ë¶„ ì„ íƒ (Select Emotion)</label>
                    <div class="emotion-selection">
                        <button type="button" class="emotion-btn" data-emotion="ğŸ˜Š">ğŸ˜Š í–‰ë³µ</button>
                        <button type="button" class="emotion-btn" data-emotion="ğŸ˜¢">ğŸ˜¢ ìŠ¬í””</button>
                        <button type="button" class="emotion-btn" data-emotion="ğŸ˜¡">ğŸ˜¡ ë¶„ë…¸</button>
                        <button type="button" class="emotion-btn" data-emotion="ğŸ˜°">ğŸ˜° ë¶ˆì•ˆ</button>
                        <button type="button" class="emotion-btn" data-emotion="ğŸ˜´">ğŸ˜´ í”¼ê³¤</button>
                    </div>
                </form>
            </section>

            <div class="loading-spinner" id="loading-indicator"></div>

            <section id="result-area">
                <h2>âœ… Gemini Analysis Result</h2>

                <div class="analysis-box">
                    <h3>ì˜¤ëŠ˜ì˜ ê°ì • ìš”ì•½ (Emotion Summary)</h3>
                    <div id="result-emotion">
                        <span class="emotion-tag">ğŸ˜Š</span>
                        <span class="summary-display" id="result-summary-tag">ê¸ì •ì ì¸ í•˜ë£¨ì˜ ì‹œì‘</span>
                    </div>
                </div>

                <div class="analysis-box">
                    <h3>ì£¼ìš” ê³ ë¯¼/ì£¼ì œ (Key Topic)</h3>
                    <p id="result-topic">íŒ€ í”„ë¡œì íŠ¸ ë§ˆê°ê³¼ ê´€ë ¨ëœ ì¼ì • ê´€ë¦¬ì˜ ì–´ë ¤ì›€</p>
                </div>

                <div class="analysis-box">
                    <h3>ë‚´ì¼ì„ ìœ„í•œ ë¯¸ì…˜ (Tomorrow's Mission)</h3>
                    <ul id="mission-list">
                        <li class="mission-item">ì˜¤ì „ 9ì‹œ, ì˜¤ëŠ˜ ê¸°ë¡ì„ ë°”íƒ•ìœ¼ë¡œ ê³„íš ìˆ˜ì •</li>
                        <li class="mission-item">ì ì‹¬ ì‹ì‚¬ í›„, ê°€ë³ê²Œ 10ë¶„ ì‚°ì±…í•˜ê¸°</li>
                        <li class="mission-item">ì ë“¤ê¸° 30ë¶„ ì „, ì „ìê¸°ê¸° ë„ê³  ë…ì„œí•˜ê¸°</li>
                    </ul>
                </div>
            </section>

            <section id="history-section" style="display: none;">
                <h2>â±ï¸ Past Records</h2>
                <div id="history-view">
                    </div>
            </section>

        </div>
        
        <div class="control-buttons">
            <button class="btn-history" onclick="toggleHistoryView()">
                <span id="history-btn-text">ì§€ë‚œ ê¸°ë¡ ë³´ê¸°</span>
            </button>
            <button class="btn-reset" onclick="resetApp()">ì´ˆê¸°í™”</button>
            <button class="btn-start" onclick="register()" id="start-analysis-btn">âœ¨ Gemini ë¶„ì„ í˜¸ì¶œ</button>
        </div>

    </div>

    <script>
        // [í•µì‹¬ìš”êµ¬ì‚¬í•­-JavaScript]
        /**
         * ğŸš¨ API ì„œë²„ì˜ ì£¼ì†Œë¥¼ ë‹´ëŠ” ìƒìˆ˜
         * í˜„ì¬ëŠ” ë¹„ì–´ìˆìœ¼ë¯€ë¡œ í†µì‹ ì€ catch ë¸”ë¡ì—ì„œ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
         */
        const SERVER_URL = "https://eccd2328-f52d-4f43-ba1e-f97722da6006-00-78r4npo8y65o.sisko.replit.dev:8000";

        // UI ìš”ì†Œ ìºì‹œ
        const dailyLogInput = document.getElementById('daily-log');
        const emotionButtons = document.querySelectorAll('.emotion-btn');
        const resultArea = document.getElementById('result-area');
        const historySection = document.getElementById('history-section');
        const historyView = document.getElementById('history-view');
        const historyBtn = document.getElementById('history-btn-text');
        const startAnalysisBtn = document.getElementById('start-analysis-btn');
        const loadingIndicator = document.getElementById('loading-indicator');
        
        let selectedEmotion = null;

        /**
         * ì´ëª¨ì§€ ì„ íƒ ë²„íŠ¼ í•¸ë“¤ëŸ¬
         */
        emotionButtons.forEach(button => {
            button.addEventListener('click', () => {
                // ê¸°ì¡´ ì„ íƒ í•´ì œ
                emotionButtons.forEach(btn => btn.classList.remove('selected'));
                
                // í˜„ì¬ ë²„íŠ¼ ì„ íƒ ë° ê°’ ì €ì¥
                button.classList.add('selected');
                selectedEmotion = button.getAttribute('data-emotion');
            });
        });

        /**
         * í¼ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ì„œë²„ì— ì „ì†¡í•˜ê³  ê²°ê³¼ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë©”ì¸ í•¨ìˆ˜
         * [í•µì‹¬ìš”êµ¬ì‚¬í•­-JavaScript] - fetch í•¨ìˆ˜ êµ¬ì¡° í¬í•¨
         */
        async function register() {
            const dailyLog = dailyLogInput.value.trim();
            const dateKey = new Date().toISOString().split('T')[0]; // ì˜¤ëŠ˜ ë‚ ì§œ (YYYY-MM-DD)

            if (!dailyLog || !selectedEmotion) {
                alert('ğŸš¨ ì˜¤ëŠ˜ ìˆì—ˆë˜ ì¼ê³¼ ê¸°ë¶„ì„ ëª¨ë‘ ì„ íƒí•´ ì£¼ì„¸ìš”.');
                return;
            }

            // UI ìƒíƒœ ë³€ê²½ (ë¶„ì„ ì‹œì‘)
            startAnalysisBtn.disabled = true;
            startAnalysisBtn.textContent = 'ë¶„ì„ ì¤‘...';
            loadingIndicator.style.display = 'block';
            resultArea.style.display = 'none';

            const payload = {
                date: dateKey,
                log: dailyLog,
                emotion: selectedEmotion
            };
            
            console.log('Sending payload:', payload);

            try {
                const response = await fetch(`${SERVER_URL}/register`, {
                    method: 'POST', // [í•µì‹¬ìš”êµ¬ì‚¬í•­] í†µì‹  ë°©ì‹
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    // [í•µì‹¬ìš”êµ¬ì‚¬í•­] JSON ë°ì´í„°: ì…ë ¥ í•„ë“œì˜ ë°ì´í„°ë¥¼ ëª¨ì•„ JSON í˜•íƒœë¡œì„œë²„ì— ì „ì†¡
                    body: JSON.stringify(payload) 
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                
                // 4. ê²°ê³¼ í™”ë©´ ì—…ë°ì´íŠ¸ ë° ì €ì¥
                updateResultArea(result);
                saveRecord(payload, result);

            } catch (error) {
                // âš ï¸ ì£¼ì˜: SERVER_URLì´ ë¹„ì–´ìˆìœ¼ë¯€ë¡œ ì´ ë¸”ë¡ì—ì„œ ì˜¤ë¥˜ê°€ ë°˜í™˜ë¨
                console.error('API í†µì‹  ì˜¤ë¥˜. (í˜„ì¬ëŠ” SERVER_URLì´ ë¹„ì–´ìˆì–´ ì˜ˆìƒëœ ì˜¤ë¥˜ì…ë‹ˆë‹¤.)', error);
                
                // 5. ì„œë²„ í†µì‹  ì˜¤ë¥˜ ì‹œ ì„ì‹œ Mock ë°ì´í„° ì‚¬ìš©
                const mockResult = generateMockResult(dailyLog, selectedEmotion);
                updateResultArea(mockResult);
                saveRecord(payload, mockResult);

            } finally {
                // UI ìƒíƒœ ë³µêµ¬
                startAnalysisBtn.disabled = false;
                startAnalysisBtn.textContent = 'âœ¨ Gemini ë¶„ì„ í˜¸ì¶œ';
                loadingIndicator.style.display = 'none';
                resultArea.style.display = 'flex';
                // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™” (ì„ íƒì )
                dailyLogInput.value = '';
                emotionButtons.forEach(btn => btn.classList.remove('selected'));
                selectedEmotion = null;
            }
        }

        /**
         * Gemini ë¶„ì„ ê²°ê³¼ë¡œ í™”ë©´ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
         * @param {object} result - Gemini API ì‘ë‹µ ë°ì´í„° (ê°ì •ë¶„ì„, ìš”ì•½, ë¯¸ì…˜ ë“±)
         */
        function updateResultArea(result) {
            document.getElementById('result-summary-tag').textContent = result.summary;
            document.getElementById('result-emotion').innerHTML = `
                <span class="emotion-tag">${result.emotionTag}</span>
                <span class="summary-display">${result.oneLineSummary}</span>
            `;
            document.getElementById('result-topic').textContent = result.keyTopic;
            
            const missionList = document.getElementById('mission-list');
            missionList.innerHTML = '';
            result.missions.forEach(mission => {
                const li = document.createElement('li');
                li.className = 'mission-item';
                li.textContent = mission;
                missionList.appendChild(li);
            });
        }
        
        /**
         * ë¡œì»¬ ì €ì¥ì†Œì— í•˜ë£¨ ê¸°ë¡ê³¼ Gemini ê²°ê³¼ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
         */
        function saveRecord(input, result) {
            const records = JSON.parse(localStorage.getItem('dailyRecords') || '{}');
            const newRecord = {
                input: input,
                result: result,
                timestamp: new Date().toLocaleString()
            };
            records[input.date] = newRecord;
            localStorage.setItem('dailyRecords', JSON.stringify(records));
            console.log(`Record saved for ${input.date}`);
        }
        
        /**
         * ì§€ë‚œ ê¸°ë¡ ë³´ê¸° ë·°ë¥¼ í† ê¸€í•©ë‹ˆë‹¤.
         */
        function toggleHistoryView() {
            const isHidden = historySection.style.display === 'none';
            if (isHidden) {
                loadHistory();
                historySection.style.display = 'block';
                document.getElementById('input-section').style.display = 'none';
                resultArea.style.display = 'none';
                startAnalysisBtn.style.display = 'none';
                historyBtn.textContent = 'ê¸°ë¡ ìˆ¨ê¸°ê¸°';
            } else {
                historySection.style.display = 'none';
                document.getElementById('input-section').style.display = 'block';
                // Result area shows only if data has been submitted
                if (localStorage.getItem('dailyRecords')) {
                    resultArea.style.display = 'flex';
                }
                startAnalysisBtn.style.display = 'block';
                historyBtn.textContent = 'ì§€ë‚œ ê¸°ë¡ ë³´ê¸°';
            }
        }

        /**
         * localStorageì˜ ê¸°ë¡ì„ ë¶ˆëŸ¬ì™€ íƒ€ì„ë¼ì¸ í˜•íƒœë¡œ í‘œì‹œí•©ë‹ˆë‹¤.
         */
        function loadHistory() {
            const records = JSON.parse(localStorage.getItem('dailyRecords') || '{}');
            const dates = Object.keys(records).sort().reverse();
            historyView.innerHTML = '';

            if (dates.length === 0) {
                historyView.innerHTML = '<p style="text-align: center; color: var(--color-text-secondary);">ì €ì¥ëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }

            dates.forEach(date => {
                const record = records[date];
                const entry = document.createElement('div');
                entry.className = 'history-entry';
                entry.innerHTML = `
                    <strong>ğŸ—“ï¸ ${date} (${record.input.emotion})</strong>
                    <p style="margin-bottom: 5px;">${record.result.oneLineSummary}</p>
                    <p style="font-size: 0.9em; color: var(--color-text-secondary);">ì£¼ì œ: ${record.result.keyTopic}</p>
                    <details>
                        <summary style="cursor: pointer; color: var(--color-success);">ìƒì„¸ ë³´ê¸°</summary>
                        <p><strong>ì›ë¬¸:</strong> ${record.input.log.substring(0, 100)}...</p>
                        <p><strong>ë¯¸ì…˜:</strong> ${record.result.missions.join(' | ')}</p>
                    </details>
                `;
                historyView.appendChild(entry);
            });
        }

        /**
         * ì•± ìƒíƒœë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
         */
        function resetApp() {
            if (confirm('ëª¨ë“  ì…ë ¥ í•„ë“œë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ì €ì¥ëœ ê¸°ë¡ì€ ì‚­ì œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.)')) {
                dailyLogInput.value = '';
                emotionButtons.forEach(btn => btn.classList.remove('selected'));
                selectedEmotion = null;
                resultArea.style.display = 'none';
                if (historySection.style.display !== 'none') {
                     toggleHistoryView(); // ê¸°ë¡ ë³´ê¸° ìƒíƒœë©´ ì…ë ¥ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°
                }
                console.log('App reset.');
            }
        }

        /**
         * ì„œë²„ ì˜¤ë¥˜ ì‹œ ì‚¬ìš©í•  Mock ë°ì´í„° ìƒì„± í•¨ìˆ˜ (API êµ¬ì¡° ì´í•´ ë•ê¸° ìœ„í•¨)
         */
        function generateMockResult(log, emotion) {
            let summary, topic, missions;
            
            if (emotion === 'ğŸ˜Š') {
                summary = "ì„±ê³µì ì¸ í”„ë¡œì íŠ¸ì™€ í•¨ê»˜ ê¸ì •ì ì¸ í•˜ë£¨ë¥¼ ë³´ë‚´ì…¨ë„¤ìš”.";
                topic = "ì—…ë¬´ ì„±ê³¼ ë‹¬ì„± ë° íŒ€ì›ë“¤ê³¼ì˜ ê¸ì •ì ì¸ ê´€ê³„ ìœ ì§€";
                missions = ["ì˜¤ëŠ˜ì˜ ì„±ê³¼ë¥¼ ê¸°ë¡í•˜ê³  ìì‹ ì—ê²Œ ë³´ìƒí•˜ê¸°", "íŒ€ì›ë“¤ì—ê²Œ ê°ì‚¬ì˜ ë©”ì‹œì§€ ì „í•˜ê¸°", "ë‚´ì¼ì˜ í•µì‹¬ ëª©í‘œ 1ê°€ì§€ ì„¤ì •í•˜ê¸°"];
            } else if (emotion === 'ğŸ˜¢') {
                summary = "í˜ë“  ê°ì •ì„ ì†”ì§í•˜ê²Œ ë§ˆì£¼í•œ ìš©ê¸° ìˆëŠ” í•˜ë£¨ì˜€ìŠµë‹ˆë‹¤.";
                topic = "í•´ê²°ë˜ì§€ ì•Šì€ ê°œì¸ì ì¸ ë¬¸ì œë¡œ ì¸í•œ ìŠ¤íŠ¸ë ˆìŠ¤";
                missions = ["ë”°ëœ»í•œ ì°¨ë¥¼ ë§ˆì‹œë©° 10ë¶„ê°„ ëª…ìƒí•˜ê¸°", "ì¹œí•œ ì¹œêµ¬ì—ê²Œ ì†”ì§í•œ ê°ì •ì„ ì´ì•¼ê¸°í•˜ê¸°", "ë‚´ì¼ì€ ì•„ì£¼ ì‘ì€ ê¸°ì¨ì„ ì°¾ë„ë¡ ë…¸ë ¥í•˜ê¸°"];
            } else { // ğŸ˜¡, ğŸ˜°, ğŸ˜´ ë“±
                summary = "ë‹¤ì–‘í•œ ì™¸ë¶€ ìš”ì¸ìœ¼ë¡œ ì¸í•´ ì—ë„ˆì§€ê°€ ë§ì´ ì†Œëª¨ëœ í•˜ë£¨ì…ë‹ˆë‹¤.";
                topic = "ë¶ˆê·œì¹™í•œ ìˆ˜ë©´ íŒ¨í„´ê³¼ ë§ˆê° ê¸°í•œìœ¼ë¡œ ì¸í•œ í”¼ë¡œ ëˆ„ì ";
                missions = ["ì €ë… 11ì‹œì— ìŠ¤ë§ˆíŠ¸í° ë„ê³  ì¹¨ëŒ€ì— ëˆ•ê¸°", "30ë¶„ ì¼ì° í‡´ê·¼ í›„ ì¢‹ì•„í•˜ëŠ” ìŒì•… ë“£ê¸°", "ì˜¤ëŠ˜ì˜ ê°ì •ì„ ê·¸ë¦¼/ë‚™ì„œë¡œ í‘œí˜„í•´ë³´ê¸°"];
            }

            return {
                emotionTag: emotion,
                oneLineSummary: summary,
                keyTopic: topic,
                missions: missions
            };
        }
    </script>

</body>
</html>









